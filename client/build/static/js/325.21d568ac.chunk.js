"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[325],{5581:(e,a,t)=>{t.d(a,{Z:()=>r,f:()=>s});const s="http://localhost:9000",r=""},841:(e,a,t)=>{t.d(a,{S:()=>l});var s=t(9722),r=t(2115),d=t(5581);const l=async()=>{const e=localStorage.getItem("webtoken");try{const a=await s.A.get("".concat(d.f,"/api/protect/all"),{headers:{Authorization:"Bearer ".concat(e)}});if(400===a.data.status&&(r.oR.error(a.data.message),window.location.href="/"),200===a.data.status)return a.data}catch(a){const e=a.response&&a.response.data&&a.response.data.message||a.message||a.toString();r.oR.error(e)}}},6325:(e,a,t)=>{t.r(a),t.d(a,{default:()=>x});var s=t(5043),r=t(3892),d=t(899),l=t(2134),o=t(841),c=t(407),i=t(3003),n=t(3568),m=t(579);const h=(0,s.lazy)((()=>t.e(376).then(t.bind(t,2376)))),u=(0,s.lazy)((()=>t.e(404).then(t.bind(t,4404)))),g=(0,s.lazy)((()=>t.e(982).then(t.bind(t,9982)))),b=(0,s.lazy)((()=>t.e(551).then(t.bind(t,2551)))),x=()=>{const e=(0,i.wA)();let a=(0,l.Zp)();const[t,x]=(0,s.useState)(""),[p,j]=(0,s.useState)([]),y=(0,r.Wx)({initialValues:{productCategory:""},validationSchema:d.Ik({productCategory:d.Yj().required("Enter Product Category")}),onSubmit:async(e,t)=>{let{resetForm:s}=t;try{await(0,n.vk)(e)&&a("/category")}catch(r){console.error(r)}s({values:""})}}),[N,v]=(0,s.useState)(""),f=(0,r.Wx)({initialValues:{editproductCategory:""},validationSchema:d.Ik({editproductCategory:d.Yj().required("Enter Product category")}),onSubmit:async(e,t)=>{let{resetForm:s}=t,r=p.filter((e=>e.productCategory===N)).map((e=>e._id));try{await(0,n.J2)(r,e)&&a("/category")}catch(d){console.error(d)}s({values:""})}});(0,s.useEffect)((()=>{(async()=>{try{const a=await(0,o.S)();await e((0,c.rO)(a.Admin));const t=await(0,n.l1)();await j(t.productCategory),console.log("date received",t.productCategory)}catch(a){console.error(a)}})()}),[]);const[C,w]=(0,s.useState)([]),[S,k]=(0,s.useState)(0),[A,M]=(0,s.useState)(0);(0,s.useEffect)((()=>{const e=A+10;w(p.slice(A,e)),k(Math.ceil(p.length/10))}),[A,10,p]);return(0,m.jsxs)("div",{children:[(0,m.jsxs)("div",{id:"layout-wrapper",children:[(0,m.jsx)(h,{}),(0,m.jsx)("div",{id:"removeNotificationModal",className:"modal fade zoomIn",tabIndex:"-1","aria-hidden":"true",children:(0,m.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:(0,m.jsxs)("div",{className:"modal-content",children:[(0,m.jsx)("div",{className:"modal-header",children:(0,m.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"NotificationModalbtn-close"})}),(0,m.jsxs)("div",{className:"modal-body",children:[(0,m.jsxs)("div",{className:"mt-2 text-center",children:[(0,m.jsx)("lord-icon",{src:"https://cdn.lordicon.com/gsqxdxog.json",trigger:"loop",colors:"primary:#f7b84b,secondary:#f06548",style:{width:"100px",height:"100px"}}),(0,m.jsxs)("div",{className:"mt-4 pt-2 fs-15 mx-4 mx-sm-5",children:[(0,m.jsx)("h4",{children:"Are you sure ?"}),(0,m.jsx)("p",{className:"text-muted mx-4 mb-0",children:"Are you sure you want to remove this Notification ?"})]})]}),(0,m.jsxs)("div",{className:"d-flex gap-2 justify-content-center mt-4 mb-2",children:[(0,m.jsx)("button",{type:"button",className:"btn w-sm btn-light","data-bs-dismiss":"modal",children:"Close"}),(0,m.jsx)("button",{type:"button",className:"btn w-sm btn-danger",id:"delete-notification",children:"Yes, Delete It!"})]})]})]})})}),(0,m.jsx)("div",{className:"app-menu navbar-menu",children:(0,m.jsx)(u,{})}),(0,m.jsx)("div",{className:"vertical-overlay"}),(0,m.jsxs)("div",{className:"main-content",children:[(0,m.jsx)("div",{className:"page-content",children:(0,m.jsxs)("div",{className:"container-fluid",children:[(0,m.jsx)("div",{className:"row",children:(0,m.jsx)("div",{className:"col-12",children:(0,m.jsxs)("div",{className:"page-title-box d-sm-flex align-items-center justify-content-between",children:[(0,m.jsx)("h4",{className:"mb-sm-0",children:"Categoty"}),(0,m.jsx)("div",{className:"page-title-right",children:(0,m.jsxs)("ol",{className:"breadcrumb m-0",children:[(0,m.jsx)("li",{className:"breadcrumb-item",children:(0,m.jsx)("a",{href:"#a",children:"Categoty"})}),(0,m.jsx)("li",{className:"breadcrumb-item active",children:"Categoty Details"})]})})]})})}),(0,m.jsxs)("div",{className:"row pb-4 gy-3",children:[(0,m.jsx)("div",{className:"col-sm-4",children:(0,m.jsxs)("button",{className:"btn btn-primary addPayment-modal","data-bs-toggle":"modal","data-bs-target":"#addpaymentModal",children:[(0,m.jsx)("i",{className:"las la-plus me-1"})," Add Category"]})}),(0,m.jsx)("div",{className:"col-sm-auto ms-auto",children:(0,m.jsx)("div",{className:"d-flex gap-3",children:(0,m.jsxs)("div",{className:"search-box",children:[(0,m.jsx)("input",{type:"text",className:"form-control",id:"searchMemberList",placeholder:"Search for Category",name:"search",onChange:e=>x(e.target.value)}),(0,m.jsx)("i",{className:"las la-search search-icon"})]})})})]}),(0,m.jsx)("div",{className:"row",children:(0,m.jsx)("div",{className:"col-xl-12",children:(0,m.jsx)("div",{className:"card",children:(0,m.jsx)("div",{className:"card-body",children:(0,m.jsx)("div",{className:"table-responsive table-card",children:(0,m.jsxs)("table",{className:"table table-hover table-nowrap align-middle mb-0",children:[(0,m.jsx)("thead",{children:(0,m.jsxs)("tr",{className:"text-muted text-uppercase",children:[(0,m.jsx)("th",{scope:"col",children:"Category"}),(0,m.jsx)("th",{scope:"col",children:"Date"}),(0,m.jsx)("th",{scope:"col",style:{width:"12%"},children:"Action"})]})}),(0,m.jsx)("tbody",{children:C.length>0?C.filter((e=>e.productCategory.toLowerCase().startsWith(t.toLocaleLowerCase()))).map((e=>(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{children:e.productCategory}),(0,m.jsx)("td",{children:new Date(e.Date).toDateString()}),"   ",(0,m.jsx)("td",{children:(0,m.jsxs)("ul",{className:"list-inline hstack gap-2 mb-0",children:[(0,m.jsx)("li",{className:"list-inline-item edit","data-bs-toggle":"tooltip","data-bs-trigger":"hover","data-bs-placement":"top",title:"Edit",children:(0,m.jsx)("button",{type:"button",className:"btn btn-soft-info btn-sm d-inline-block","data-bs-toggle":"modal","data-bs-target":"#addcategoryModal",onClick:()=>{return a=e.productCategory,void v(a);var a},children:(0,m.jsx)("i",{className:"las la-pen fs-17 align-middle"})})}),(0,m.jsx)("li",{className:"list-inline-item","data-bs-toggle":"tooltip","data-bs-trigger":"hover","data-bs-placement":"top",title:"Remove",children:(0,m.jsx)("button",{type:"button",onClick:()=>(async e=>{if(window.confirm(" Want to Delete This product category #".concat(e.productCategory))){let a=await(0,n.wO)(e._id);console.log("id",e._id),j(a.productCategory)}})(e),className:"btn btn-soft-danger btn-sm d-inline-block",children:(0,m.jsx)("i",{className:"las la-file-download fs-17 align-middle"})})})]})})]},e._id))):(0,m.jsx)("tr",{children:(0,m.jsx)("h1",{children:"No Category Data Found..."})})})]})})})})})}),(0,m.jsxs)("div",{className:"row align-items-center mb-4 gy-3",children:[(0,m.jsx)("div",{className:"col-md-5",children:(0,m.jsxs)("p",{className:"mb-0 text-muted",children:["Showing ",(0,m.jsx)("b",{children:"1"})," to ",(0,m.jsx)("b",{children:"15"})," of ",(0,m.jsx)("b",{children:C.length})," results"]})}),(0,m.jsx)("div",{className:"col-sm-auto ms-auto",children:(0,m.jsx)(b,{onPageChange:e=>{const a=10*e.selected%p.length;M(a)},pageCount:S})})]})]})}),(0,m.jsx)(g,{})]})]}),(0,m.jsx)("div",{className:"modal fade",id:"addpaymentModal",tabIndex:"-1","aria-hidden":"true",children:(0,m.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:(0,m.jsxs)("div",{className:"modal-content border-0",children:[(0,m.jsxs)("div",{className:"modal-header p-4 pb-0",children:[(0,m.jsx)("h5",{className:"modal-title",id:"createMemberLabel",children:"Add Category"}),(0,m.jsx)("button",{type:"button",className:"btn-close",id:"createMemberBtn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),(0,m.jsx)("div",{className:"modal-body p-4",children:(0,m.jsx)("form",{autocomplete:"on",id:"memberlist-form",className:"needs-validation",onSubmit:y.handleSubmit,enctype:"multipart/form-data",children:(0,m.jsx)("div",{className:"row",children:(0,m.jsxs)("div",{className:"col-lg-12",children:[(0,m.jsxs)("div",{className:"mb-3 mt-4",children:[(0,m.jsx)("label",{htmlFor:"productCategory",className:"form-label",children:"Category"}),(0,m.jsx)("input",{type:"text",className:"form-control",id:"productCategory",placeholder:"Enter Product Type",name:"productCategory",value:y.values.productCategory,onChange:y.handleChange}),(0,m.jsx)("div",{className:"invalid-feedback",children:"Please Enter a Product Category."})]}),y.touched.productCategory&&y.errors.productCategory?(0,m.jsx)("small",{style:{color:"red"},children:y.errors.productCategory}):null,(0,m.jsxs)("div",{className:"hstack gap-2 justify-content-end",children:[(0,m.jsx)("button",{type:"button",className:"btn btn-light","data-bs-dismiss":"modal",children:"Close"}),(0,m.jsx)("button",{type:"submit",className:"btn btn-success",id:"addNewMember",children:"Add Category"})]})]})})})})]})})}),(0,m.jsx)("div",{className:"modal fade",id:"addcategoryModal",tabIndex:"-1","aria-hidden":"true",children:(0,m.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:(0,m.jsxs)("div",{className:"modal-content border-0",children:[(0,m.jsxs)("div",{className:"modal-header p-4 pb-0",children:[(0,m.jsx)("h5",{className:"modal-title",id:"createMemberLabel",children:"Edit Category"}),(0,m.jsx)("button",{type:"button",className:"btn-close",id:"createMemberBtn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),(0,m.jsx)("div",{className:"modal-body p-4",children:(0,m.jsx)("form",{autocomplete:"on",id:"memberlist-form1",className:"needs-validation",onSubmit:f.handleSubmit,children:(0,m.jsx)("div",{className:"row",children:(0,m.jsxs)("div",{className:"col-lg-12",children:[(0,m.jsxs)("div",{className:"mb-3 mt-4",children:[(0,m.jsx)("label",{htmlFor:"productCategory",className:"form-label",children:"Category"}),(0,m.jsx)("input",{type:"text",className:"form-control",value:N,readOnly:!0}),(0,m.jsx)("div",{className:"invalid-feedback",children:"Please Enter a Product Category."})]}),(0,m.jsxs)("div",{className:"mb-3 mt-4",children:[(0,m.jsx)("input",{type:"text",className:"form-control",id:"editproductCategory",placeholder:"Enter New Category",name:"editproductCategory",value:f.values.editproductCategory,onChange:f.handleChange}),(0,m.jsx)("div",{className:"invalid-feedback",children:"Please Enter a Product Category."})]}),f.touched.editproductCategory&&f.errors.editproductCategory?(0,m.jsx)("small",{style:{color:"red"},children:f.errors.editproductCategory}):null,(0,m.jsxs)("div",{className:"hstack gap-2 justify-content-end",children:[(0,m.jsx)("button",{type:"button",className:"btn btn-light","data-bs-dismiss":"modal",children:"Close"}),(0,m.jsx)("button",{type:"submit",className:"btn btn-success",id:"addNewMember",children:"Edit Category"})]})]})})})})]})})}),(0,m.jsx)("button",{onclick:"topFunction()",className:"btn btn-danger btn-icon",id:"back-to-top",children:(0,m.jsx)("i",{className:"ri-arrow-up-line"})})]})}},3568:(e,a,t)=>{t.d(a,{J2:()=>c,l1:()=>o,vk:()=>l,wO:()=>i});var s=t(9722),r=t(2115),d=t(5581);const l=async e=>{try{const a=await s.A.post("".concat(d.f,"/api/category/categoryform"),e);if(400===a.data.status&&r.oR.error(a.data.message),200===a.data.status)return r.oR.success(a.data.message),a.data}catch(a){const e=a.response&&a.response.data&&a.response.data.message||a.message||a.toString();r.oR.error(e)}},o=async()=>{try{const e=await s.A.get("".concat(d.f,"/api/category/getcategorydata"));if(400===e.data.status&&r.oR.error(e.data.message),200===e.data.status)return e.data}catch(e){const a=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();r.oR.error(a)}},c=async(e,a)=>{try{const t=await s.A.put("".concat(d.f,"/api/category/editcategory/").concat(e),a);if(400===t.data.status&&r.oR.error(t.data.message),200===t.data.status)return r.oR.success(t.data.message),t}catch(t){const e=t.response&&t.response.data&&t.response.data.message||t.message||t.toString();r.oR.error(e)}},i=async e=>{try{const a=await s.A.get("".concat(d.f,"/api/category/deletecategory/").concat(e));if(400===a.data.status&&r.oR.error(a.data.message),200===a.data.status)return a.data}catch(a){const e=a.response&&a.response.data&&a.response.data.message||a.message||a.toString();r.oR.error(e)}}}}]);
//# sourceMappingURL=325.21d568ac.chunk.js.map